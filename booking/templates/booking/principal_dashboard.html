<!DOCTYPE html>
<html>
<head>
    <title>Principal Dashboard</title>
</head>
<body>

    <h1>Principal Dashboard</h1>

    <p><strong>Total Bookings:</strong> {{ total_bookings }}</p>
    <p><strong>Attended:</strong> {{ attended }}</p>
    <p><strong>Not Attended:</strong> {{ not_attended }}</p>

    <h2>Bookings per Counselor</h2>
    <ul>
        {% for row in per_counselor %}
            <li>
                {{ row.slot__counselor__username }} â€“ {{ row.total }}
            </li>
        {% empty %}
            <li>No bookings yet.</li>
        {% endfor %}
    </ul>
    <hr>

<h2>Manage Counselors</h2>

<table border="1" cellpadding="6">
    <tr>
        <th>Username</th>
        <th>Action</th>
    </tr>

    {% for counselor in counselors %}
        <tr>
            <td>{{ counselor.username }}</td>
            <td>
                <form method="post"
                      action="{% url 'booking:delete_counselor' counselor.id %}"
                      style="display:inline;"
                      onsubmit="return confirm('Are you sure you want to delete this counselor?');">
                    {% csrf_token %}
                    <button type="submit">Delete</button>
                </form>
            </td>
        </tr>
    {% empty %}
        <tr>
            <td colspan="2">No counselors found.</td>
        </tr>
    {% endfor %}
</table>


    <p>
        <a href="{% url 'booking:add_counselor' %}">Add Counselor</a> |
        <a href="{% url 'booking:counselor_logout' %}">Logout</a>
    </p>

</body>
</html>
